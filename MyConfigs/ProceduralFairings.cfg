@PART[KzResizableFairingBase|KzProcFairingSide1|KzProcFairingSide2]:NEEDS[ProceduralFairings,KiwiTechTree]
{
	@TechRequired = basicConstruction
}

@PART[KzProcFairingSide1_TU|KzProcFairingSide2_TU]:NEEDS[ProceduralFairings,KiwiTechTree,TexturesUnlimited]
{
    @TechRequired = basicConstruction
}

@PART[KzResizableFairingBaseRing|KzInterstageAdapter2]:NEEDS[ProceduralFairings,KiwiTechTree]
{
	@TechRequired = advConstruction
}

@PART[KzThrustPlate]:NEEDS[ProceduralFairings,KiwiTechTree]
{
	@TechRequired = enginePlates
}

@PART[RSBRibbedBase|RSBRibbedBase_Interstage|RSBTrussBase]:NEEDS[ProceduralFairings,KiwiTechTree]
{
    @TechRequired = advConstruction
}

@PART[SSTUBase|SSTUBase_Interstage|SSTUHollowRing|SSTUHollowRing_Interstage]:NEEDS[ProceduralFairings,KiwiTechTree]
{
    @TechRequired = advConstruction
}

@PROCFAIRINGS_MINDIAMETER:NEEDS[ProceduralFairings,KiwiTechTree]
{
	@start = 0.1
	!miniaturization = 0.1
}

@PROCFAIRINGS_MAXDIAMETER:NEEDS[ProceduralFairings,KiwiTechTree]
{
    start = 0.625
    generalConstruction = 1.25
    advConstruction = 1.875
    specializedConstruction = 2.5
    advMetalworks = 3.75
    nanolathing = 5.0
    exoticAlloys = 7.5
    aerographite = 30

    !metaMaterials = 0
    !aerospaceTech = 0
    sandbox = 50.0
}

PROCROCKET_MINDIAMETER:NEEDS[ProceduralFairings,KiwiTechTree]
{
    @start = 0.1
    !miniaturization = 0.1
}

PROCROCKET_MAXDIAMETER:NEEDS[ProceduralFairings,KiwiTechTree]
{
    start = 2.5
    advancedDocking = 3.75
    advancedEnginePlates = 5
    automatedDecouplingSystems = 7.5
    extremeFuelStorage = 30

    !advConstruction = 0
    !metaMaterials = 0
    !aerospaceTech = 0
}

//
// Fairings Upgrades
//

@PART[pf_tech_fairing04m]:NEEDS[ProceduralFairings]
{
	%TechHidden = True
}

@PART[pf_tech_fairing2_75m]:NEEDS[ProceduralFairings]
{
	%TechHidden = True
}

@PART[pf_tech_fairing2_75m]:NEEDS[ProceduralFairings]
{
	%TechHidden = True
}

@PART[pf_tech_fairing4m]:NEEDS[ProceduralFairings]
{
	%TechHidden = True
}

@PART[pf_tech_fairing12m]:NEEDS[ProceduralFairings]
{
	%TechHidden = True
}

PART:NEEDS[ProceduralFairings]
{
    name = pf_tech_fairing1_25m
    module = Part
    author = Starstrider42 (config), e-dog (model)

    MODEL
    {
        model = ProceduralFairings/Assets/base_standard
    }

    TechRequired = generalConstruction
    entryCost = 0
    cost = 0
    category = none
    title = Procedural Fairings Upgrade (1.25m)
    manufacturer = Keramzit Engineering
    description = Allows fairings bases up to 1.25 meters.
}

PART:NEEDS[ProceduralFairings]
{
    name = pf_tech_fairing1_875m
    module = Part
    author = Starstrider42 (config), e-dog (model)

    MODEL
    {
        model = ProceduralFairings/Assets/base_standard
    }

    TechRequired = advConstruction
    entryCost = 0
    cost = 0
    category = none
    title = Procedural Fairings Upgrade (1.875m)
    manufacturer = Keramzit Engineering
    description = Allows fairings bases up to 1.875 meters.
}

PART:NEEDS[ProceduralFairings]
{
    name = pf_tech_fairing2_5m
    module = Part
    author = Starstrider42 (config), e-dog (model)

    MODEL
    {
        model = ProceduralFairings/Assets/base_standard
    }

    TechRequired = specializedConstruction
    entryCost = 0
    cost = 0
    category = none
    title = Procedural Fairings Upgrade (2.5m)
    manufacturer = Keramzit Engineering
    description = Allows fairings bases up to 2.5 meters.
}

PART:NEEDS[ProceduralFairings]
{
    name = pf_tech_fairing3_75m
    module = Part
    author = Starstrider42 (config), e-dog (model)

    MODEL
    {
        model = ProceduralFairings/Assets/base_standard
    }

    TechRequired = advMetalworks
    entryCost = 0
    cost = 0
    category = none
    title = Procedural Fairings Upgrade (3.75m)
    manufacturer = Keramzit Engineering
    description = Allows fairings bases up to 3.75 meters.
}

PART:NEEDS[ProceduralFairings]
{
    name = pf_tech_fairing5m
    module = Part
    author = Starstrider42 (config), e-dog (model)

    MODEL
    {
        model = ProceduralFairings/Assets/base_standard
    }

    TechRequired = nanolathing
    entryCost = 0
    cost = 0
    category = none
    title = Procedural Fairings Upgrade (5m)
    manufacturer = Keramzit Engineering
    description = Allows fairings bases up to 5.0 meters.
}

PART:NEEDS[ProceduralFairings]
{
    name = pf_tech_fairing7_5m
    module = Part
    author = Starstrider42 (config), e-dog (model)

    MODEL
    {
        model = ProceduralFairings/Assets/base_standard
    }

    TechRequired = exoticAlloys
    entryCost = 0
    cost = 0
    category = none
    title = Procedural Fairings Upgrade (7.5m)
    manufacturer = Keramzit Engineering
    description = Allows fairings bases up to 7.5 meters.
}

@PART[pf_tech_fairing30m]:NEEDS[ProceduralFairings]
{
	@TechRequired = aerographite
    @title = itle = Procedural Fairings Upgrade (30m)
}

//
// Thrust Plates upgrades
//

@PART[pf_tech_rocket12m]:NEEDS[ProceduralFairings]
{
	%TechHidden = True
}

PART:NEEDS[ProceduralFairings]
{
    name = pf_tech_rocket3_75m
    module = Part
    author = Starstrider42 (config), e-dog (model)

    MODEL
    {
        model = ProceduralFairings/Assets/thrust_plate
    }

    TechRequired = advancedDocking
    entryCost = 0
    cost = 0
    category = none
    title = Procedural Thrustplate Upgrade (3.75m)
    manufacturer = Keramzit Engineering
    description = Allows thrust plates up to 3.75 meters size.
}

PART:NEEDS[ProceduralFairings]
{
    name = pf_tech_rocket5m
    module = Part
    author = Starstrider42 (config), e-dog (model)

    MODEL
    {
        model = ProceduralFairings/Assets/thrust_plate
    }

    TechRequired = advancedEnginePlates
    entryCost = 0
    cost = 0
    category = none
    title = Procedural Thrustplate Upgrade (5m)
    manufacturer = Keramzit Engineering
    description = Allows thrust plates up to 5 meters size.
}

PART:NEEDS[ProceduralFairings]
{
    name = pf_tech_rocket7_5m
    module = Part
    author = Starstrider42 (config), e-dog (model) 

    MODEL
    {
        model = ProceduralFairings/Assets/thrust_plate
    }

    TechRequired = automatedDecouplingSystems
    entryCost = 0
    cost = 0
    category = none
    title = Procedural Thrustplate Upgrade (7.5m)
    manufacturer = Keramzit Engineering
    description = Allows thrust plates up to 7.5 meters size.
}

@PART[pf_tech_rocket30m]:NEEDS[ProceduralFairings]
{
    @TechRequired = extremeFuelStorage
    @title = Procedural Thrustplate Upgrade (30m)
}

@KSP_TEXTURE_SET[KzResizableFairingBase_recolor]:NEEDS[TexturesUnlimited,ProceduralFairings,ProceduralParts] {
    @recolorable = true
    !MATERIAL,* {}
    MATERIAL
    {
        shader = TU/Metallic
        texture = _MainTex,         ProceduralParts/Textures/Mains/Metal-DIFF
        texture = _BumpMap,         ProceduralParts/Textures/Normals/Smooth-NRM
        texture = _MetallicGlossMap,ProceduralParts/Textures/Metallic/Smooth-METAL
        texture = _MaskTex,         ProceduralFairings/Assets/base_standard_mask
        keyword = TU_RECOLOR
        channelMask = 1
        vector = _DiffuseNorm,      0.5,0.5,0.5
        vector = _MetalNorm,        0.5,0.5,0.5
        vector = _SmoothnessNorm,   0.5,0.5,0.5
        mode = create
    }
    COLORS
    {
        mainColor = white-metallic
        secondColor = black-metallic
        detailColor = white
    }
}

@KSP_TEXTURE_SET[KzResizableFairingBaseRing_recolor]:NEEDS[TexturesUnlimited,ProceduralFairings,ProceduralParts] {
    @recolorable = true
    !MATERIAL,* {}
    MATERIAL
    {
        shader = TU/Metallic
        texture = _MainTex,         ProceduralParts/Textures/Mains/Metal-DIFF
        texture = _BumpMap,         ProceduralParts/Textures/Normals/Smooth-NRM
        texture = _MetallicGlossMap,ProceduralParts/Textures/Metallic/Smooth-METAL
        texture = _MaskTex,         ProceduralFairings/Assets/base_ring_mask
        keyword = TU_RECOLOR
        channelMask = 1
        vector = _DiffuseNorm,      0.5,0.5,0.5
        vector = _MetalNorm,        0.5,0.5,0.5
        vector = _SmoothnessNorm,   0.5,0.5,0.5
        mode = create
    }
    COLORS
    {
        mainColor = white-metallic
        secondColor = black-metallic
        detailColor = white
    }
}

@KSP_TEXTURE_SET[KzProcFairingSide_recolor]:NEEDS[TexturesUnlimited,ProceduralFairings,ProceduralParts] {
    @recolorable = true
    !MATERIAL,* {}
    MATERIAL
    {
        shader = TU/Metallic
        texture = _MainTex,         ProceduralParts/Textures/Mains/Metal-DIFF
        texture = _BumpMap,         ProceduralParts/Textures/Normals/Smooth-NRM
        texture = _MetallicGlossMap,ProceduralParts/Textures/Metallic/Smooth-METAL
        //texture = _MaskTex,         ProceduralParts/Textures/Masks/Solid-MASK
        texture = _MaskTex,         ProceduralFairings/Assets/fairing_mask
        keyword = TU_RECOLOR
        channelMask = 1
        vector = _DiffuseNorm,      0.5,0.5,0.5
        vector = _MetalNorm,        0.5,0.5,0.5
        vector = _SmoothnessNorm,   0.5,0.5,0.5
        mode = create
    }
    COLORS
    {
        mainColor = white-metallic
        secondColor = black-metallic
        detailColor = white
    }
}

@KSP_TEXTURE_SET[KzThrustPlate_recolor]:NEEDS[TexturesUnlimited,ProceduralFairings,ProceduralParts] {
    @recolorable = true
    !MATERIAL,* {}
    MATERIAL
    {
        shader = TU/Metallic
        texture = _MainTex,         ProceduralParts/Textures/Mains/Metal-DIFF
        texture = _BumpMap,         ProceduralParts/Textures/Normals/Smooth-NRM
        texture = _MetallicGlossMap,ProceduralParts/Textures/Metallic/Smooth-METAL
        //texture = _MaskTex,         ProceduralParts/Textures/Masks/Solid-MASK
        texture = _MaskTex,         ProceduralFairings/Assets/thrust_plate_mask
        keyword = TU_RECOLOR
        channelMask = 1
        vector = _DiffuseNorm,      0.5,0.5,0.5
        vector = _MetalNorm,        0.5,0.5,0.5
        vector = _SmoothnessNorm,   0.5,0.5,0.5
        mode = create
    }
    COLORS
    {
        mainColor = white-metallic
        secondColor = black-metallic
        detailColor = white
    }
}